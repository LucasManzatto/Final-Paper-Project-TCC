<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utils.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utils.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import _ from "lodash";
//AWGN +rnorm();
import { rnorm } from "randgen";
import { scaleLinear } from "d3-scale";
import { axisRight } from "d3-axis";

export const findMinMax = (dataArray, resolution) => {
  let minX = 0,
    maxX = resolution - 1,
    minY = Number.MAX_SAFE_INTEGER,
    maxY = Number.MIN_SAFE_INTEGER;

  _.map(dataArray, data => {
    if (data &lt; minY) {
      minY = data;
    } else if (data > maxY) {
      maxY = data;
    }
  });

  return { minX, maxX, minY, maxY };
};
//tira o primeiro elemento e coloca no final do array;
export const shiftArray = array => {
  let item = array.shift();
  array.push(item);
  return array;
};

export const createTimeArray = resolution => {
  let time = [];
  for (let i = 0; i &lt; resolution; i++) {
    time.push(i / resolution);
  }
  return time;
};

/**
 * getScales returns the x,y scale based on the data array to fit the graph
 * @param  {Array} data       description
 * @param  {Object} dimensions description
 * @param  {Object} block      description
 * @param  {Integer} resolution description
 * @param  {Integer} amplitude  description
 * @return {Object}            description
 */
export const getScales = (data, dimensions, block, resolution, amplitude) => {
  let tickValues;
  let scale = {
    xLine: 0,
    yLine: 0,
    yAxis: 0,
    tickValues: 0
  };
  let paddingxAxis = 30;
  let paddingyAxis = 20;
  const { minX, maxX, minY, maxY } = findMinMax(data, resolution);
  scale.xLine = scaleLinear()
    .domain([minX.toFixed(2), maxX.toFixed(2)])
    .range([paddingxAxis, dimensions.width - paddingxAxis]);

  scale.yLine = scaleLinear()
    .domain([minY.toFixed(2), maxY.toFixed(2)])
    .range([dimensions.height - paddingyAxis, paddingyAxis]);

  //Binary Block
  if (block.id === 0) {
    scale.yAxis = scaleLinear()
      .domain([0, 1])
      .range([dimensions.height - paddingyAxis, paddingyAxis]);
    scale.tickValues = [-1, 0, 1];
  } else {
    scale.yAxis = scaleLinear()
      .domain([-amplitude / 2, amplitude / 2])
      .range([dimensions.height - paddingyAxis, paddingyAxis]);
    scale.tickValues = [-amplitude / 2, 0, amplitude / 2];
  }
  return scale;
};

export const createQPSKBinaryArray = (binaryArray, totalTime) => {
  const size = totalTime / binaryArray.length;
  let index = 0;
  let binaryAux = [];
  let item;
  for (item in binaryArray) {
    if (!(parseInt(item) + 1 === binaryArray.length)) {
      for (let i = 0; i &lt; size / 2; i++) {
        binaryAux[index++] = binaryArray[item];
        binaryAux[index++] = binaryArray[parseInt(item) + 1];
      }
    }
  }
  return binaryAux;
};


/**
 *
 */
export const notHidden = key => {
  if (
    key !== "id" &amp;&amp;
    key !== "position" &amp;&amp;
    key !== "type" &amp;&amp;
    key !== "paused" &amp;&amp;
    key !== "name" &amp;&amp;
    key !== "carrierWave" &amp;&amp;
    key !== "source" &amp;&amp;
    key !== "absolutePosition" &amp;&amp;
    key !== "linked" &amp;&amp;
    key !== "samples" &amp;&amp;
    key !== "bpsk" &amp;&amp;
    key !== "links" &amp;&amp;
    key !== "neededLinks" &amp;&amp;
    key !== "updated" &amp;&amp;
    key !== "description" &amp;&amp;
    key !== "data"
  ) {
    return true;
  }
  return false;
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#getScales">getScales</a></li><li><a href="global.html#notHidden">notHidden</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Thu Jul 19 2018 21:27:21 GMT-0300 (E. South America Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
